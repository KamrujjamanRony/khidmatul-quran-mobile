<section class="gradient-form h-fit bg-neutral-200 dark:bg-neutral-700">
  <div class="max-w-7xl mx-auto h-full lg:p-10 md:p-6 p-2">
    <div
      class="g-6 flex h-full flex-wrap items-center justify-center text-neutral-800 dark:text-neutral-200"
    >
      <div class="w-full">
        <div class="block rounded-lg bg-white shadow-lg dark:bg-neutral-500">
          <div class="g-0 lg:flex lg:flex-wrap">
            <!-- Left column container-->
            <div class="px-4 md:px-0 xl:w-3/12 lg:w-4/5 mx-auto">
              <div class="md:mx-6 md:p-12">
                <!--Logo-->
                <div class="text-center hidden md:block">
                  <img
                    class="mx-auto w-48"
                    src="https://i.ibb.co/hR80cLB/Pngtree-islamic-logo-6182193.png"
                    alt="logo"
                  />
                  <h4 class="mb-12 mt-1 pb-1 text-xl font-semibold">
                    Find Salat Times In Your Location
                  </h4>
                </div>

                <form #form="ngForm" (ngSubmit)="onFormSubmit()">
                  <!-- <p class="mb-4">Please enter your location</p> -->

                  <!--Register button-->
                  <div class="flex flex-col items-center justify-between pb-6 font-bold">
                    <p class="mb-0 mr-2">অবস্থান শনাক্ত করুনঃ</p>
                    <div>
                      <button
                      type="button"
                      class="inline-block rounded border-2 border-danger px-1 md:px-2 lg:px-5 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-danger transition duration-150 ease-in-out hover:border-danger-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-danger-600 focus:border-danger-600 focus:text-danger-600 focus:outline-none focus:ring-0 active:border-danger-700 active:text-danger-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
                      data-te-ripple-init
                      data-te-ripple-color="light"
                      (click)="getPreciseLocation()"
                    >
                      Get Location
                    </button>
                    <button
                      routerLink="/salat"
                      class="inline-block text-xs bg-rose-500 px-6 pb-[6px] pt-2 font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-rose-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-rose-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-rose-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] m-2 mr-3 rounded-md"
                    >
                      BACK
                    </button>
                    </div>
                  </div>
                  <span class="text-red-600 py-2">{{ errorText }}</span>

                  @if(locationName){
                  <h1 class="">
                    City :
                    <span class="roboto font-bold text-rose-500">{{
                      locationName?.address?.city ||
                        locationName?.address?.state ||
                        "dhaka"
                    }}</span>
                  </h1>
                  } @else {
                  <h1 class="">
                    City :
                    <span class="roboto font-bold text-rose-500">Dhaka</span>
                  </h1>
                  }
                  <h1 *ngIf="locationName" class="hidden">
                    Address :
                    <span class="roboto font-bold text-sm">{{
                      locationName?.display_name
                    }}</span>
                  </h1>

                  <p class="mb-4 font-bold">মেনুয়াল সেটআপঃ</p>

                  <!--latitude input-->
                  <div class="relative mb-4" data-te-input-wrapper-init>
                    <label
                      for="latitude"
                      class="block text-sm font-medium leading-6 text-gray-900"
                      >Latitude</label
                    >
                    <div class="relative mt-2 rounded-md shadow-sm">
                      <input
                        type="number"
                        [(ngModel)]="model.latitude"
                        id="latitude"
                        name="latitude"
                        (blur)="onInputFocus()"
                        (focus)="onInputFocus()"
                        class="block w-full bg-white rounded-md border-0 py-1.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                        placeholder="0.00"
                      />
                    </div>
                  </div>
                  <!--longitude input-->
                  <div class="relative mb-4" data-te-input-wrapper-init>
                    <label
                      for="longitude"
                      class="block text-sm font-medium leading-6 text-gray-900"
                      >Longitude</label
                    >
                    <div class="relative mt-2 rounded-md shadow-sm">
                      <input
                        type="number"
                        [(ngModel)]="model.longitude"
                        id="longitude"
                        name="longitude"
                        (blur)="onInputFocus()"
                        (focus)="onInputFocus()"
                        class="block w-full bg-white rounded-md border-0 py-1.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                        placeholder="0.00"
                      />
                    </div>
                  </div>

                  <!--Submit button-->
                  <div class="mb-12 pb-1 pt-1 text-center">
                    <button
                      class="mb-3 inline-block w-full rounded px-1 md:px-2 lg:px-5 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_rgba(0,0,0,0.2)] transition duration-150 ease-in-out hover:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)] focus:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)] focus:outline-none focus:ring-0 active:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)]"
                      type="submit"
                      data-te-ripple-init
                      data-te-ripple-color="light"
                      style="
                        background: linear-gradient(
                          to right,
                          #ee7724,
                          #d8363a,
                          #dd3675,
                          #b44593
                        );
                      "
                    >
                      Update Location
                    </button>
                  </div>
                </form>
              </div>
            </div>

            <!-- Right column container with background and description-->
            <div
              class="lg:flex items-center rounded-b-lg xl:w-9/12 lg:rounded-r-lg lg:rounded-bl-none lg:justify-center"
              style="
                background: linear-gradient(
                  to right,
                  #267402,
                  #3fa027,
                  #1a5c46
                );
              "
            >
              <div class="px-4 py-6 text-white md:mx-6 md:p-12">
                @if(locationName){
                <h1 class="text-center text-2xl">
                  City :
                  <span class="roboto font-bold">{{
                    locationName?.address?.city || locationName?.address?.state
                  }}</span>
                </h1>
                } @else {
                <h1 class="text-center text-2xl">
                  City :
                  <span class="roboto font-bold text-rose-500">Dhaka</span>
                </h1>
                }
                <div class="flex justify-center pt-5" role="group">
                  <button
                    (click)="displayMonth(-1)"
                    type="button"
                    class="inline-block rounded-l border-2 border-primary px-2 lg:text-4xl md:text-2xl text-xl uppercase leading-normal font-semibold text-white transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
                    data-te-ripple-init
                    data-te-ripple-color="light"
                  >
                    <<<
                  </button>
                  <h1
                    class="-ml-0.5 inline-block border-2 border-primary lg:px-5 md:px-4 px-2 pb-[6px] pt-2 lg:text-3xl md:text-xl text-md uppercase leading-normal font-semibold text-white"
                    data-te-ripple-init
                    data-te-ripple-color="light"
                  >
                    {{ tableTitle }}
                  </h1>
                  <button
                    (click)="displayMonth(+1)"
                    type="button"
                    class="-ml-0.5 inline-block rounded-r border-2 border-primary px-2 lg:text-4xl md:text-2xl text-xl uppercase leading-normal font-semibold text-white transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
                    data-te-ripple-init
                    data-te-ripple-color="light"
                  >
                    >>>
                  </button>
                </div>
                <div class="flex flex-col overflow-x-auto justify-center">
                  <div class="sm:-mx-2 lg:-mx-8 mx-auto">
                    <div class="inline-block py-2 sm:px-1 md:px-2 lg:px-8">
                      <div class="overflow-x-auto h-[80vh]">
                        <table class="text-xs font-light text-center" hi>
                          <thead
                            class="border-b font-medium dark:border-neutral-500 text-md lg:text-xl sticky top-0 z-10"
                            style="
                              background: linear-gradient(
                                to right,
                                #267402,
                                #3fa027,
                                #1a5c46
                              );
                            "
                          >
                            <tr>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                তারিখ
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                সাহরী
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                ফজর
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                সূর্যোদয়
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                যুহর
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                আসর
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                মাগরিব
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                ইশা
                              </th>
                              <th scope="col" class="px-1 md:px-2 lg:px-5 py-4">
                                মধ্যরাত
                              </th>
                            </tr>
                          </thead>
                          <tbody class="text-sm lg:text-xl">
                            <ng-container *ngFor="let day of timetableData">
                              <tr
                                class="border-b dark:border-neutral-500"
                                [ngClass]="{ 'today-row': isToday(day) }"
                              >
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4 font-medium"
                                >
                                  {{ day.day | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.Shari | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.fajrT | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.sunrise | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.dhuhrT | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.asr | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.maghrib | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.isha | bengaliNumber }}
                                </td>
                                <td
                                  class="whitespace-nowrap px-1 md:px-2 lg:px-5 py-4"
                                >
                                  {{ day.midnight | bengaliNumber }}
                                </td>
                              </tr>
                            </ng-container>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<app-footer link="/salat"></app-footer>
